<section class="messages-component">
  <section class="header-info">
    <span class="title-text">消息管理</span>
  </section>
  <section class="context-info">
    <section class="context-list">
      <nz-table
        #borderedTable
        nzBordered
        [nzLoading]="renderConfig.loading"
        [nzTotal]="renderConfig.total"
        [nzPageSize]="renderConfig.pageSize"
        [nzPageIndex]="renderConfig.pageNum"
        nzBordered
        (nzQueryParams)="onQueryParamsChange($event)"
        [nzScroll]="{ x: '800px' }"
        [nzData]="renderInfoArray">
        <thead>
          <tr>
            <th
              [nzSelections]="listOfSelection"
              [(nzChecked)]="checked"
              [nzIndeterminate]="indeterminate"
              (nzCheckedChange)="onAllChecked($event)"
              width="65"
            ></th>
            <th nzAlign="center">消息</th>
            <th nzAlign="center">状态</th>
            <th nzAlign="center">时间</th>
            <th nzAlign="center" width="120" nzRight>操作</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let data of borderedTable.data" [ngSwitch]="data.readed">
            <td [nzChecked]="setOfCheckedId.has(data.id)" (nzCheckedChange)="onItemChecked(data.id, $event)"></td>
            <td>{{ data.content }}</td>
            <td nzAlign="center" *ngSwitchCase="1">已读</td>
            <td nzAlign="center" *ngSwitchCase="0">未读</td>
            <td nzAlign="center">{{ data.sendTime }}</td>
            <td nzAlign="center" width="120" nzRight>
              <a (click)="openCheckMessagesInfo(data)">已读</a>
              <nz-divider nzType="vertical"></nz-divider>
              <a (click)="deleteMessageInfo(data)">删除</a>
            </td>
          </tr>
        </tbody>
      </nz-table>
    </section>
  </section>
</section>
